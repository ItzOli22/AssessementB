<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=640, height=1136, initial-scale=1.0">
    <title>Combined Pages</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f5f5f5;
            color: #555;
        }

        .container {
            width: 100%;
            max-width: 640px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 40px 20px;
            box-sizing: border-box;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin: 20px;
        }

        .logo {
            width: 200px;
            margin-bottom: 30px;
        }

        input, select {
            padding: 12px;
            font-size: 18px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 15px;
            width: 80%;
        }

        .phone-container {
            display: flex;
            align-items: center;
            width: 100%;
            margin-bottom: 20px;
            justify-content: center;
        }

        select {
            width: 30%;
            margin-right: 10px;
        }

        input[type="text"], input[type="email"], input[type="date"], input[type="number"] {
            width: 55%;
        }

        button {
            padding: 12px 24px;
            font-size: 18px;
            background-color: #FFA500;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            width: 80%;
            margin-top: 20px;
        }

            button:hover {
                background-color: #FF8C00;
            }

        h1 {
            font-size: 30px;
            margin-bottom: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
        }

        .greeting {
            color: #FF8C00;
            font-size: 22px;
            margin-bottom: 20px;
            text-align: center;
        }

        .checkbox-container {
            width: 80%;
            display: block;
            text-align: left;
        }

            .checkbox-container input {
                margin-right: 5px;
            }

        footer {
            margin-top: 20px;
            text-align: center;
            font-size: 14px;
            color: #999;
        }

            footer a {
                color: #1E90FF;
                text-decoration: none;
            }

                footer a:hover {
                    text-decoration: underline;
                }

        .data-container {
            width: 80%;
            margin-bottom: 40px;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

            .data-container div {
                font-size: 18px;
                margin-bottom: 15px;
                font-weight: bold;
                display: flex;
                justify-content: space-between;
            }

                .data-container div span {
                    font-weight: normal;
                    color: #333;
                }
    </style>
</head>
<body>

    <!-- First Page: Loyalty Page -->
    <div class="container" id="loyaltyPage">
        <img src="file:///C:/Users/lelia/Downloads/mulah_logo.b8ce4c8e.webp" alt="Logo" class="logo">
        <h1>Hello, Welcome!</h1>
        <p class="greeting">Check your loyalty points & rewards</p>
        <form onsubmit="return validatePhoneNumber()">
            <label for="phoneCode">Select Country Code</label>
            <div class="phone-container">
                <select id="phoneCode" required>
                    <option value="+1">+1 (USA)</option>
                    <option value="+44">+44 (UK)</option>
                    <option value="+60">+60 (Malaysia)</option>
                    <option value="+91">+91 (India)</option>
                    <option value="+61">+61 (Australia)</option>
                </select>

                <input type="text" id="phone" placeholder="Enter phone number" required pattern="\d*" maxlength="15" />
            </div>

            <button type="submit">Check Loyalty Points</button>
        </form>

        <footer>
            <span style="color: grey;">Powered by</span> <a href="https://mulahrewrds.com" target="_blank" style="color: #1E90FF;">MulahRewards.com</a>
        </footer>
    </div>

    <!-- Second Page: Registration Page -->
    <div class="container" id="registrationPage" style="display: none;">
        <img src="file:///C:/Users/lelia/Downloads/mulah_logo.b8ce4c8e.webp" alt="Logo" class="logo">
        <h1>Registration</h1>
        <p class="greeting">Please fill out your details to register</p>
        <form onsubmit="return saveData()">
            <label for="name">Name</label><br />
            <input type="text" id="name" placeholder="Enter your name" required /><br />

            <label for="birthday">Birthday</label><br />
            <input type="date" id="birthday" required /><br />

            <label for="email">Email</label><br />
            <input type="email" id="email" placeholder="Enter your email" />

            <div class="checkbox-container">
                <input type="checkbox" id="noEmail" /> I don't have an email
            </div>

            <button type="submit">Continue</button>
        </form>

        <footer>
            <span style="color: grey;">Powered by</span> <a href="https://mulahrewrds.com" target="_blank" style="color: #1E90FF;">MulahRewards.com</a>
        </footer>
    </div>

    <!-- Third Page: Display Data -->
    <div class="container" id="displayDataPage" style="display: none;">
        <img src="file:///C:/Users/lelia/Downloads/mulah_logo.b8ce4c8e.webp" alt="Logo" class="logo">
        <h1>Registration Data</h1>
        <div class="data-container">
            <div>
                <span>Name:</span>
                <span id="displayName"></span>
            </div>
            <div>
                <span>Birthday:</span>
                <span id="displayBirthday"></span>
            </div>
            <div>
                <span>Email:</span>
                <span id="displayEmail"></span>
            </div>
            <div>
                <span>Phone Number:</span>
                <span id="displayPhone"></span>
            </div>
        </div>

        <footer>
            <span style="color: grey;">Powered by</span> <a href="https://mulahrewrds.com" target="_blank" style="color: #1E90FF;">MulahRewards.com</a>
        </footer>
    </div>

    <script>
        function validatePhoneNumber() {
            const phone = document.getElementById('phone').value;
            const phoneCode = document.getElementById('phoneCode').value;

            // Check if the country code is Malaysia (+60)
            if (phoneCode !== '+60') {
                alert("Please select Malaysia (+60) as the country code.");
                return false;
            }

            // If the phone number matches the valid number for Malaysia
            const validPhone = "173527250";

            if (phone === validPhone) {
                document.getElementById('loyaltyPage').style.display = 'none';
                document.getElementById('registrationPage').style.display = 'block';
                return false;
            } else {
                alert("Invalid phone number! Please enter the correct country code and phone number.");
                return false;
            }
        }

        function saveData() {
            const name = document.getElementById('name').value;
            const birthday = document.getElementById('birthday').value;
            const email = document.getElementById('email').value;
            const noEmailChecked = document.getElementById('noEmail').checked;

            if (name && birthday && (noEmailChecked || email)) {
                localStorage.setItem('name', name);
                localStorage.setItem('birthday', birthday);
                localStorage.setItem('email', noEmailChecked ? '' : email);
                document.getElementById('registrationPage').style.display = 'none';
                document.getElementById('displayDataPage').style.display = 'block';
                document.getElementById('displayName').textContent = name;
                document.getElementById('displayBirthday').textContent = birthday;
                document.getElementById('displayEmail').textContent = email ? email : 'Not Provided';
                document.getElementById('displayPhone').textContent = phoneCode + " " + phone;
                return false;
            } else {
                alert("Please fill out all fields.");
                return false;
            }
        }

        // Fetch data from localStorage
        const name = localStorage.getItem('name');
        const birthday = localStorage.getItem('birthday');
        const email = localStorage.getItem('email');
        const phone = localStorage.getItem('phone');
        const phoneCode = localStorage.getItem('phoneCode');

        // Display the data on page load
        document.getElementById('displayName').textContent = name ? name : 'Not Provided';
        document.getElementById('displayBirthday').textContent = birthday ? birthday : 'Not Provided';
        document.getElementById('displayEmail').textContent = email ? email : 'Not Provided';
        document.getElementById('displayPhone').textContent = phone && phoneCode ? phoneCode + " " + phone : 'Not Provided';
    </script>

</body>
</html>
